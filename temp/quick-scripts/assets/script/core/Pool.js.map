{"version":3,"sources":["Pool.js"],"names":["cc","Class","name","properties","dotPool","dotPrefab","enemy1Pool","enemy1Prefab","enemy2Pool","enemy2Prefab","enemy3Pool","enemy3Prefab","enemy4Pool","enemy4Prefab","enemy5Pool","enemy5Prefab","enemyPool","enemyPrefab","dotInitCount","enemy1InitCount","enemy2InitCount","enemy3InitCount","enemy4InitCount","enemy5InitCount","initPool","NodePool","loader","loadRes","err","prefab","i","put","instantiate","getDot","size","get","putDot","node","getEnemy","id","parseInt","putEnemy"],"mappings":"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","file":"Pool.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\core","sourcesContent":["cc.Class({\r\n    name: 'Pool',\r\n    properties: {\r\n        dotPool: null,\r\n        dotPrefab: null,\r\n        enemy1Pool: null,\r\n        enemy1Prefab: null,\r\n        enemy2Pool: null,\r\n        enemy2Prefab: null,\r\n        enemy3Pool: null,\r\n        enemy3Prefab: null,\r\n        enemy4Pool: null,\r\n        enemy4Prefab: null,\r\n        enemy5Pool: null,\r\n        enemy5Prefab: null,\r\n        enemyPool: null,\r\n        enemyPrefab: null,\r\n\r\n        dotInitCount: 40,\r\n        enemy1InitCount: 10,\r\n        enemy2InitCount: 12,\r\n        enemy3InitCount: 3,\r\n        enemy4InitCount: 4,\r\n        enemy5InitCount: 2,\r\n    },\r\n\r\n    initPool: function () {\r\n        // dot\r\n        // this.dotPool = new cc.NodePool();\r\n        // cc.loader.loadRes('prefab/dot', (err, prefab) => {\r\n        //     this.dotPrefab = prefab;\r\n        //     for (let i = 0; i < this.dotInitCount; ++i) {\r\n        //         this.dotPool.put(cc.instantiate(prefab));\r\n        //     }\r\n        // });\r\n        // enenmy 1\r\n        // this.enemy1Pool = new cc.NodePool();\r\n        // cc.loader.loadRes('prefab/Enemy1', (err, prefab) => {\r\n        //     this.enemy1Prefab = prefab;\r\n        //     for (let i = 0; i < this.enemy1InitCount; ++i) {\r\n        //         this.enemy1Pool.put(cc.instantiate(prefab));\r\n        //     }\r\n        // });\r\n        // enenmy 2\r\n        // this.enemy2Pool = new cc.NodePool();\r\n        // cc.loader.loadRes('prefab/Enemy2', (err, prefab) => {\r\n        //     this.enemy2Prefab = prefab;\r\n        //     for (let i = 0; i < this.enemy2InitCount; ++i) {\r\n        //         this.enemy2Pool.put(cc.instantiate(prefab));\r\n        //     }\r\n        // });\r\n        // enenmy 3\r\n        // this.enemy3Pool = new cc.NodePool();\r\n        // cc.loader.loadRes('prefab/Enemy3', (err, prefab) => {\r\n        //     this.enemy3Prefab = prefab;\r\n        //     for (let i = 0; i < this.enemy3InitCount; ++i) {\r\n        //         this.enemy3Pool.put(cc.instantiate(prefab));\r\n        //     }\r\n            \r\n        // });\r\n        // enenmy 4\r\n        // this.enemy4Pool = new cc.NodePool();\r\n        // cc.loader.loadRes('prefab/Enemy4', (err, prefab) => {\r\n        //     this.enemy4Prefab = prefab;\r\n        //     for (let i = 0; i < this.enemy4InitCount; ++i) {\r\n        //         this.enemy4Pool.put(cc.instantiate(prefab));\r\n        //     }\r\n        // });\r\n        // enenmy 5\r\n        // this.enemy5Pool = new cc.NodePool();\r\n        // cc.loader.loadRes('prefab/Enemy5', (err, prefab) => {\r\n        //     this.enemy5Prefab = prefab;\r\n        //     for (let i = 0; i < this.enemy5InitCount; ++i) {\r\n        //         this.enemy5Pool.put(cc.instantiate(prefab));\r\n        //     }\r\n        // });\r\n        this.enemy1Pool = new cc.NodePool();\r\n        cc.loader.loadRes('prefab/enemy/Enemy_3', (err, prefab) => {\r\n            this.enemy1Prefab = prefab;\r\n            for (let i = 0; i < this.enemy1InitCount; ++i) {\r\n                this.enemy1Pool.put(cc.instantiate(prefab));\r\n            }\r\n        });\r\n        this.enemy2Pool = new cc.NodePool();\r\n        cc.loader.loadRes('prefab/enemy/Enemy_1', (err, prefab) => {\r\n            this.enemy2Prefab = prefab;\r\n            for (let i = 0; i < this.enemy2InitCount; ++i) {\r\n                this.enemy2Pool.put(cc.instantiate(prefab));\r\n            }\r\n        });\r\n        this.enemy3Pool = new cc.NodePool();\r\n        cc.loader.loadRes('prefab/enemy/Enemy_6', (err, prefab) => {\r\n            this.enemy3Prefab = prefab;\r\n            for (let i = 0; i < this.enemy3InitCount; ++i) {\r\n                this.enemy3Pool.put(cc.instantiate(prefab));\r\n            }\r\n        });\r\n        this.enemy4Pool = new cc.NodePool();\r\n        cc.loader.loadRes('prefab/enemy/Enemy_7', (err, prefab) => {\r\n            this.enemy4Prefab = prefab;\r\n            for (let i = 0; i < this.enemy4InitCount; ++i) {\r\n                this.enemy4Pool.put(cc.instantiate(prefab));\r\n            }\r\n        });\r\n        this.enemy5Pool = new cc.NodePool();\r\n        cc.loader.loadRes('prefab/enemy/Enemy_2', (err, prefab) => {\r\n            this.enemy5Prefab = prefab;\r\n            for (let i = 0; i < this.enemy5InitCount; ++i) {\r\n                this.enemy5Pool.put(cc.instantiate(prefab));\r\n            }\r\n        });\r\n    },\r\n\r\n    getDot: function () {\r\n        if (this.dotPool.size() > 0) {\r\n            return this.dotPool.get();\r\n        }\r\n        // cc.log('create dot');\r\n        return cc.instantiate(this.dotPrefab);\r\n    },\r\n\r\n    putDot: function (node) {\r\n        // cc.log('put dot');\r\n        this.dotPool.put(node);\r\n    },\r\n\r\n    getEnemy: function (id) {\r\n        id = parseInt(id);\r\n        if (id === 1) {\r\n            this.enemyPool = this.enemy1Pool;\r\n            this.enemyPrefab = this.enemy1Prefab;\r\n        } else if (id === 2) {\r\n            this.enemyPool = this.enemy2Pool;\r\n            this.enemyPrefab = this.enemy2Prefab;\r\n        } else if (id === 3) {\r\n            this.enemyPool = this.enemy3Pool;\r\n            this.enemyPrefab = this.enemy3Prefab;\r\n        } else if (id === 4) {\r\n            this.enemyPool = this.enemy4Pool;\r\n            this.enemyPrefab = this.enemy4Prefab;\r\n        } else if (id === 5) {\r\n            this.enemyPool = this.enemy5Pool;\r\n            this.enemyPrefab = this.enemy5Prefab;\r\n        }\r\n\r\n        if (this.enemyPool.size() > 0) {\r\n            return this.enemyPool.get();\r\n        }\r\n        return cc.instantiate(this.enemyPrefab);\r\n    },\r\n\r\n    putEnemy: function (id, node) {\r\n        // id = parseInt(id);\r\n        if (id === 1) {\r\n            this.enemy1Pool.put(node);\r\n        } else if (id === 2) {\r\n            this.enemy2Pool.put(node);\r\n        } else if (id === 3) {\r\n            this.enemy3Pool.put(node);\r\n        } else if (id === 4) {\r\n            this.enemy4Pool.put(node);\r\n        } else if (id === 5) {\r\n            this.enemy5Pool.put(node);\r\n        }\r\n    },\r\n});\r\n"]}
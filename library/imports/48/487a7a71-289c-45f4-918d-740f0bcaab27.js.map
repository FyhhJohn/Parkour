{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\ui/assets\\script\\ui\\Player.js"],"names":["BALL_DISTANCE","cc","Class","extends","Component","properties","playerNode","Node","ballNode","fallNode","onCollisionEnter","other","self","node","name","GameApp","ui","emit","run","position","v2","getComponent","Animation","play","runAction","repeatForever","sequence","callFunc","sound","playEffect","moveBy","data","mapVelocity","stand","stopAllActions","shoot","setPosition","repeat","die","active","blink"],"mappings":"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","file":"Player.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["const BALL_DISTANCE = 150;\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        playerNode: cc.Node,\r\n        ballNode: cc.Node,\r\n        fallNode: cc.Node,\r\n    },\r\n\r\n    onCollisionEnter(other, self) {\r\n        if (other.node.name === 'Circle') {\r\n            return;\r\n        }\r\n        GameApp.ui.node.emit('GAME_OVER');\r\n    },\r\n\r\n    run() {\r\n        this.ballNode.position = cc.v2(0, 70);\r\n        this.playerNode.getComponent(cc.Animation).play('run');\r\n        this.ballNode.runAction(cc.repeatForever(cc.sequence(\r\n            cc.callFunc(() => {\r\n                this.ballNode.getComponent(cc.Animation).play('roll');\r\n                GameApp.sound.playEffect('kick');\r\n            }),\r\n            cc.moveBy(0.3, cc.v2(0, BALL_DISTANCE)),\r\n            cc.moveBy(BALL_DISTANCE / GameApp.data.mapVelocity(), cc.v2(0, -BALL_DISTANCE))\r\n        )));\r\n    },\r\n\r\n    stand() {\r\n        this.playerNode.getComponent(cc.Animation).play('stand');\r\n        this.ballNode.stopAllActions();\r\n    },\r\n\r\n    shoot() {\r\n        GameApp.sound.playEffect('kick');\r\n        this.ballNode.setPosition(0, 70);\r\n        this.ballNode.runAction(cc.repeat(cc.sequence(\r\n            cc.callFunc(() => {\r\n                this.ballNode.getComponent(cc.Animation).play('roll');\r\n            }),\r\n            cc.moveBy(0.3, cc.v2(0, 220)),\r\n        ), 3));\r\n    },\r\n\r\n    die() {\r\n        this.playerNode.active = false;\r\n        this.fallNode.active = true;\r\n        this.fallNode.runAction(cc.moveBy(0.3, cc.v2(0, BALL_DISTANCE)));\r\n        this.ballNode.runAction(cc.sequence(\r\n            cc.callFunc(() => {\r\n                this.ballNode.getComponent(cc.Animation).play('roll');\r\n            }),\r\n            cc.moveBy(0.3, cc.v2(BALL_DISTANCE, BALL_DISTANCE * 2)),\r\n            cc.callFunc(() => {\r\n                this.node.runAction(cc.repeatForever(cc.blink(0.4, 1)));\r\n            })\r\n        ));\r\n    },\r\n});\r\n"]}